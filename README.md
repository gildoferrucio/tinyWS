# This repository hosts the tinyWS project.

Under the manifest folder there is one single manifest file, that sumarizes the fake service and the cronjob.

Under the scripts folder there are a few scripts:

-> assembleWeatherControlScript.sh ==> this file is responsable to mix both grabWeatherForecast.sh and weatherForecastControl.sh scripts into a single script called weatherForecastControlAssembled.sh. This is done in order to ease the separate development process of both grabWeatherForecast.sh and weatherForecastControl.sh scripts and further combination of both into one.

-> forecastLogHandler.sh ==> this script implements the backup control of the logs generated by grabWeatherForecast.sh. This script has to be deployed and is referenced in the manifest in the cronjob.

-> grabWeatherForecast.sh ==> that is the real script that grabs the forecasts. This script will be autodeployed and controled by weatherForecastControlAssembled.sh, once it is in the server.

-> weatherForecastControl.sh ==> this script implements a kind of execution control for the deployed script grabWeatherForecast.sh. This script has a tag inside it, in a heredoc to receive the grabWeatherForecast.sh.

-> weatherForecastControlAssembled.sh ==> This script is the output of assembleWeatherControlScript.sh. This script has to be deployed and is referenced in the manifest and used in the fake service.

The scripts that have to be put in the main server, inside the mountpoint are:
-> weatherForecastControlAssembled.sh

-> forecastLogHandler.sh

It was choosen to use a new mount point and configure it in /etc/puppetlabs/puppet/fileserver.conf, as described in https://puppet.com/docs/puppet/7.3/file_serving.html#creating-a-new-mount-point-in-fileserver.conf. The mountpoint's path was /etc/puppetlabs/puppet/mountPoints/tinyWS.
